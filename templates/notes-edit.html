{% extends 'base.html' %}

{% block body %}
<h2>Edit Note</h2>
<form method="post">
    {{ form.hidden_tag() }}
    <div class="form-group">
        {{ form.title.label(class="form-label") }}
        {{ form.title(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.description.label(class="form-label") }}
        {{ form.description(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.tags.label(class="form-label") }}
        {{ form.tags(class="form-control") }}
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
</form>

<h3>Tags</h3>
<ul>
    {% for tag in note.tags %}
    <li>
        {{ tag.name }}
        <form action="{{ url_for('delete_tag', note_id=note.id, tag_id=tag.id) }}" method="post" class="d-inline">
            <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this tag?');">Delete Tag</button>
        </form>
    </li>
    {% endfor %}
</ul>

<a href="{{ url_for('index') }}" class="btn btn-secondary mt-2">Back</a>

{% endblock %}